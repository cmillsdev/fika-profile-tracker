{% extends "base.html" %}

{% block title %}Overview - {{ overview.basic.nickname }}{% endblock %}

{% block content %}
    <h1>Overview | {{ overview.basic.nickname }}</h1>
    <div class="card mb-3">
        <div class="card-header">
            <h2>Alerts</h2>
        </div>
        <div class="card-body">
            {% if alerts.task_items %}
                <h4>TASK ITEMS IN INVENTORY</h4>
                {% for item in alerts.task_items %}
                    <ul>
                        <li>{{ item }}</li>
                    </ul>
                {% endfor %}
            {% endif %}
            {% if not alerts.health %}
                <h4><b style="color: #f44336">HEAL YOUR MAN</b></h4>
            {% endif %}
            {% if not alerts.energy %}
                <h4><b style="color: #088695">FEED YOUR MAN</b></h4>
            {% endif %}
            {% if not alerts.hydration %}
                <h4><b style="color: #088695">WATER YOUR MAN</b></h4>
            {% endif %}
        </div>

    </div>

    <!-- Basic Information Section -->
    <div class="card mb-3">
        <div class="card-header">
            <h2>Basic Information</h2>
        </div>
        <div class="card-body">
            <h3>Level {{ overview.basic.level }} {{ overview.basic.faction }} {{ overview.basic.survivor_class }}</h3>
            <ul>
                <li><strong>Experience Gained:</strong> {{ overview.basic.exp_gained }}</li>
                <li><strong>Accuracy [Session | Overall]:</strong> {{ overview.overall_accuracy }} | {{ overview.session_accuracy }}</li>
                <li><strong>Registration Date:</strong> {{ overview.basic.reg_date }}</li>
                <li><strong>Lifetime Insured Items:</strong> {{ overview.basic.total_insured_items }}</li>
                <li><strong>Ragfair Rating:</strong> {{ overview.basic.ragfair_rating }}</li>
                <li><strong>Playtime:</strong> {{ overview.basic.ingame_time}}</li>
                <li><strong>Scav Karma:</strong> {{ overview.basic.scav_karma }}</li>
            </ul>
        </div>
    </div>

    <!-- Last Raid Section -->
    <div class="card mb-3">
        <div class="card-header">
            <h2>Last Raid</h2>
        </div>
        <div class="card-body">
            <ul>
                <li><strong>Last Death:</strong>
                    <ul>
                        <li><strong>Killer:</strong> {{ overview.last_raid.last_death.killer.name }} ({{ overview.last_raid.last_death.killer.side }})</li>
                        <li><strong>Weapon:</strong> {{ overview.last_raid.last_death.killer.weapon }}</li>
                        <li><strong>Body Part:</strong> {{ overview.last_raid.last_death.killer.BodyPart }}</li>
                        <li><strong>Cause:</strong> {{ overview.last_raid.last_death.cause.damage_type }} ({{ overview.last_raid.last_death.cause.weapon }})</li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
{% endblock %}