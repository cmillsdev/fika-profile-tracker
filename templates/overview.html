{% extends "base.html" %}

{% block title %}Overview - {{ overview.basic.nickname }}{% endblock %}

{% block content %}
    <h1>Overview | {{ overview.basic.nickname }}</h1>
    <div class="card mb-3">
        <div class="card-header">
            <h2>Alerts</h2>
        </div>
        <div class="card-body">
            {% if overview.task_items %}
                <h3>TASK ITEMS IN INVENTORY</h3>
                {% for task in overview.task_items %}
                    <ul>
                        <li>{{ task }}</li>
                    </ul>
                {% endfor %}
            {% endif %}
        </div>

    </div>

    <!-- Basic Information Section -->
    <div class="card mb-3">
        <div class="card-header">
            <h2>Basic Information</h2>
        </div>
        <div class="card-body">
            <h3>Level {{ overview.basic.level }} {{ overview.basic.faction }} {{ overview.basic.survivor_class }}</h3>
            <ul>
                <li><strong>Experience Gained:</strong> {{ overview.basic.exp_gained }}</li>
                <li><strong>Accuracy [Session | Overall]:</strong> {{ overview.overall_accuracy }} | {{ overview.session_accuracy }}</li>
                <li><strong>Registration Date:</strong> {{ overview.basic.reg_date }}</li>
                <li><strong>Lifetime Insured Items:</strong> {{ overview.basic.total_insured_items }}</li>
                <li><strong>Ragfair Rating:</strong> {{ overview.basic.ragfair_rating }}</li>
                <li><strong>Playtime:</strong> {{ overview.basic.ingame_time}}</li>
                <li><strong>Scav Karma:</strong> {{ overview.basic.scav_karma }}</li>
            </ul>
        </div>
    </div>

    <!-- Health Section -->
    <div class="card mb-3">
        <div class="card-header">
            <h2>Health</h2>
        </div>
        <div class="card-body">
            <ul>
                <li><strong>Energy:</strong> {{ overview.health.energy.Current }}/{{ overview.health.energy.Maximum }}</li>
                <li><strong>Hydration:</strong> {{ overview.health.hydration.Current }}/{{ overview.health.hydration.Maximum }}</li>
                <li><strong>Body Parts:</strong>
                    <ul>
                        {% for part, details in overview.health.health.items() %}
                            <li>
                                <strong>{{ part }}:</strong> {{ details.Health.Current }}/{{ details.Health.Maximum }}
                                {% if details.Effects %}
                                    <ul>
                                        {% for effect, value in details.Effects.items() %}
                                            <li><strong>{{ effect }}:</strong> {{ value.Time }}</li>
                                        {% endfor %}
                                    </ul>
                                {% endif %}
                            </li>
                        {% endfor %}
                    </ul>
                </li>
            </ul>
        </div>
    </div>

    <!-- Last Raid Section -->
    <div class="card mb-3">
        <div class="card-header">
            <h2>Last Raid</h2>
        </div>
        <div class="card-body">
            <ul>
                <li><strong>Last Death:</strong>
                    <ul>
                        <li><strong>Killer:</strong> {{ overview.last_raid.last_death.killer.name }} ({{ overview.last_raid.last_death.killer.side }})</li>
                        <li><strong>Weapon:</strong> {{ overview.last_raid.last_death.killer.weapon }}</li>
                        <li><strong>Body Part:</strong> {{ overview.last_raid.last_death.killer.BodyPart }}</li>
                        <li><strong>Cause:</strong> {{ overview.last_raid.last_death.cause.damage_type }} ({{ overview.last_raid.last_death.cause.weapon }})</li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
{% endblock %}